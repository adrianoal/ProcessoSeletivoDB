SET SERVEROUTPUT ON;
DECLARE 
    COL_COUNT INTEGER;
   
BEGIN

    SELECT COUNT(*) 
    INTO COL_COUNT
    FROM USER_TAB_COLUMNS
    WHERE TABLE_NAME = 'CLIENTE_HIST'
    AND COLUMN_NAME = 'DEFEITO';
    
        IF COL_COUNT = 0 THEN
           
              EXECUTE IMMEDIATE 'ALTER TABLE CLIENTE_HIST ADD DEFEITO VARCHAR2(20)DEFAULT 2525';
            COMMIT;
    ELSE
              DBMS_OUTPUT.PUT_LINE('The column effective_date already exists');
            ROLLBACK;
        END IF;
END;

--ALTER TABLE CLIENTE_HIST DROP COLUMN DEFEITO; COMMIT;
